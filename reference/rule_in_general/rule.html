

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rule &mdash; Whalrus 0.4.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="RuleIteratedElimination" href="rule_iterated_elimination.html" />
    <link rel="prev" title="Rule: In General" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Whalrus
          

          
          </a>

          
            
            
              <div class="version">
                0.4.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../readme.html">Whalrus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ballot/index.html">Ballot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../converter_ballot/index.html">ConverterBallot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../elimination/index.html">Elimination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matrix/index.html">Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../priority/index.html">Priority</a></li>
<li class="toctree-l2"><a class="reference internal" href="../profile/index.html">Profile</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Rule: In General</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Rule</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule_iterated_elimination.html">RuleIteratedElimination</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule_score.html">RuleScore</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule_score_num.html">RuleScoreNum</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule_score_num_average.html">RuleScoreNumAverage</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule_score_num_row_sum.html">RuleScoreNumRowSum</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule_score_positional.html">RuleScorePositional</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule_sequential_elimination.html">RuleSequentialElimination</a></li>
<li class="toctree-l3"><a class="reference internal" href="rule_sequential_tie_break.html">RuleSequentialTieBreak</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rule_in_particular/index.html">Rule: In Particular</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scale/index.html">Scale</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scorer/index.html">Scorer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/index.html">Util Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../history.html">History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Whalrus</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Reference</a> &raquo;</li>
        
          <li><a href="index.html">Rule: In General</a> &raquo;</li>
        
      <li>Rule</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/reference/rule_in_general/rule.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rule">
<h1>Rule<a class="headerlink" href="#rule" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="whalrus.Rule">
<em class="property">class </em><code class="sig-prename descclassname">whalrus.</code><code class="sig-name descname">Rule</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="n">tie_break</span><span class="p">:</span> <span class="n">whalrus.priority.Priority.Priority</span> <span class="o">=</span> <span class="default_value">Priority.UNAMBIGUOUS</span></em>, <em class="sig-param"><span class="n">converter</span><span class="p">:</span> <span class="n">whalrus.converter_ballot.ConverterBallot.ConverterBallot</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whalrus/rule/Rule.html#Rule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#whalrus.Rule" title="Permalink to this definition">¶</a></dt>
<dd><p>A voting rule.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – if present, these parameters will be passed to <code class="docutils literal notranslate"><span class="pre">__call__</span></code> immediately after initialization.</p></li>
<li><p><strong>tie_break</strong> – a tie-break rule.</p></li>
<li><p><strong>converter</strong> – the converter that is used to convert input ballots in order to compute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">profile_converted_</span></code>. Default: <a class="reference internal" href="../converter_ballot/converter_ballot_general.html#whalrus.ConverterBallotGeneral" title="whalrus.ConverterBallotGeneral"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConverterBallotGeneral</span></code></a>.</p></li>
<li><p><strong>**kwargs</strong> – if present, these parameters will be passed to <code class="docutils literal notranslate"><span class="pre">__call__</span></code> immediately after initialization.</p></li>
</ul>
</dd>
</dl>
<p>A <a class="reference internal" href="#whalrus.Rule" title="whalrus.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rule</span></code></a> object is a callable whose inputs are ballots and optionally weights, voters and candidates.
When the rule is called, it loads the profile. The output of the call is the rule itself. But
after the call, you can access to the computed variables (ending with an underscore), such as
<a class="reference internal" href="#whalrus.Rule.cowinners_" title="whalrus.Rule.cowinners_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cowinners_</span></code></a>.</p>
<p>At the initialization of a <a class="reference internal" href="#whalrus.Rule" title="whalrus.Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rule</span></code></a> object, some options can be given, such as a tie-break rule or a
converter. In some subclasses, there can also be an option about the way to count abstentions, etc.</p>
<p>Cf. <a class="reference internal" href="../rule_in_particular/rule_plurality.html#whalrus.RulePlurality" title="whalrus.RulePlurality"><code class="xref py py-class docutils literal notranslate"><span class="pre">RulePlurality</span></code></a> for some examples.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>profile_original_</strong> – the profile as it is entered by the user. Since it uses the constructor of
<a class="reference internal" href="../profile/index.html#whalrus.Profile" title="whalrus.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code></a>, it indirectly uses <a class="reference internal" href="../converter_ballot/converter_ballot_general.html#whalrus.ConverterBallotGeneral" title="whalrus.ConverterBallotGeneral"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConverterBallotGeneral</span></code></a> to ensure, for example, that strings like
<code class="docutils literal notranslate"><span class="pre">'a</span> <span class="pre">&gt;</span> <span class="pre">b</span> <span class="pre">&gt;</span> <span class="pre">c'</span></code> are converted to <a class="reference internal" href="../ballot/ballot.html#whalrus.Ballot" title="whalrus.Ballot"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ballot</span></code></a> objects.</p></li>
<li><p><strong>profile_converted_</strong> – the profile, with ballots that are adapted to the voting rule. For example,
in <a class="reference internal" href="../rule_in_particular/rule_plurality.html#whalrus.RulePlurality" title="whalrus.RulePlurality"><code class="xref py py-class docutils literal notranslate"><span class="pre">RulePlurality</span></code></a>, it will be <a class="reference internal" href="../ballot/ballot_plurality.html#whalrus.BallotPlurality" title="whalrus.BallotPlurality"><code class="xref py py-class docutils literal notranslate"><span class="pre">BallotPlurality</span></code></a> objects, even if the original ballots are
<a class="reference internal" href="../ballot/ballot_order.html#whalrus.BallotOrder" title="whalrus.BallotOrder"><code class="xref py py-class docutils literal notranslate"><span class="pre">BallotOrder</span></code></a> objects. This uses the parameter <code class="docutils literal notranslate"><span class="pre">converter</span></code> of the rule.</p></li>
<li><p><strong>candidates_</strong> – the candidates of the election, as entered in the <code class="docutils literal notranslate"><span class="pre">__call__</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="whalrus.Rule.cotrailers_">
<em class="property">property </em><code class="sig-name descname">cotrailers_</code><a class="headerlink" href="#whalrus.Rule.cotrailers_" title="Permalink to this definition">¶</a></dt>
<dd><p>“Cotrailers” of the election.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the set of “cotrailers”, i.e. the candidates that fare worst in the election. This is the last
equivalence class in <a class="reference internal" href="#whalrus.Rule.order_" title="whalrus.Rule.order_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">order_</span></code></a>. For example, in <a class="reference internal" href="rule_score_num.html#whalrus.RuleScoreNum" title="whalrus.RuleScoreNum"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuleScoreNum</span></code></a>, it is the candidates that
are tied for the worst score.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="whalrus.Rule.cowinners_">
<em class="property">property </em><code class="sig-name descname">cowinners_</code><a class="headerlink" href="#whalrus.Rule.cowinners_" title="Permalink to this definition">¶</a></dt>
<dd><p>Cowinners of the election.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the set of cowinners, i.e. the candidates that fare best in the election.. This is the first
equivalence class in <a class="reference internal" href="#whalrus.Rule.order_" title="whalrus.Rule.order_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">order_</span></code></a>. For example, in <a class="reference internal" href="rule_score_num.html#whalrus.RuleScoreNum" title="whalrus.RuleScoreNum"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuleScoreNum</span></code></a>, it is the candidates that are
tied for the best score.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="whalrus.Rule.n_candidates_">
<em class="property">property </em><code class="sig-name descname">n_candidates_</code><a class="headerlink" href="#whalrus.Rule.n_candidates_" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of candidates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the number of candidates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="whalrus.Rule.order_">
<em class="property">property </em><code class="sig-name descname">order_</code><a class="headerlink" href="#whalrus.Rule.order_" title="Permalink to this definition">¶</a></dt>
<dd><p>Result of the election as a (weak) order over the candidates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">NiceSet</span></code>. The first set contains the candidates that are tied for victory, etc.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="whalrus.Rule.strict_order_">
<em class="property">property </em><code class="sig-name descname">strict_order_</code><a class="headerlink" href="#whalrus.Rule.strict_order_" title="Permalink to this definition">¶</a></dt>
<dd><p>Result of the election as a strict order over the candidates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list whose first element is the winner, etc. This may use the tie-breaking rule.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="whalrus.Rule.trailer_">
<em class="property">property </em><code class="sig-name descname">trailer_</code><a class="headerlink" href="#whalrus.Rule.trailer_" title="Permalink to this definition">¶</a></dt>
<dd><p>“Trailer” of the election.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the “trailer” of the election. This is the last candidate in <a class="reference internal" href="#whalrus.Rule.strict_order_" title="whalrus.Rule.strict_order_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">strict_order_</span></code></a> and also the
unfavorable choice of the tie-breaking rule in <a class="reference internal" href="#whalrus.Rule.cotrailers_" title="whalrus.Rule.cotrailers_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cotrailers_</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="whalrus.Rule.winner_">
<em class="property">property </em><code class="sig-name descname">winner_</code><a class="headerlink" href="#whalrus.Rule.winner_" title="Permalink to this definition">¶</a></dt>
<dd><p>Winner of the election.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the winner of the election. This is the first candidate in <a class="reference internal" href="#whalrus.Rule.strict_order_" title="whalrus.Rule.strict_order_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">strict_order_</span></code></a> and also the
choice of the tie-breaking rule in <a class="reference internal" href="#whalrus.Rule.cowinners_" title="whalrus.Rule.cowinners_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cowinners_</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rule_iterated_elimination.html" class="btn btn-neutral float-right" title="RuleIteratedElimination" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Rule: In General" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2018, François Durand

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>